<div class="page-header">
  <%= link_to new_pepe_path, :class => 'btn btn-primary' do %>
    <span class="glyphicon glyphicon-plus"></span>
    Nuevo Pepe
  <% end %>
  <h1>Listado de pepes</h1>
</div>

<div class="table-responsive">
  <table id="tabla-pepe" class="table table-striped table-bordered table-hover">
    <thead>
      <tr>
            <th>Nro</th>
            <th>Nombre</th>
            <th>Algo</th>
            <th>Algo2</th>
            <th class="text-center">Acciones</th>
      </tr>
    </thead>

    <tbody>
      <%= content_tag_for(:tr, @pepes) do |pepe| %>
            <td><%= pepe.nro %></td>
            <td><%= pepe.nombre %></td>
            <td><%= pepe.algo %></td>
            <td><%= pepe.algo2 %></td>
            <td class="text-center">
          <div class="btn-group">
            <a class="btn dropdown-toggle btn-primary" data-toggle="dropdown" href="#">
              Acciones
              <span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
              <li><%= link_to 'Ver', pepe %></li>
              <li><%= link_to 'Editar', edit_pepe_path(pepe) %></li>
              <li><%= link_to 'Eliminar', pepe, method: :delete, data: { confirm: 'Â¿Seguro desea eliminar?' } %></li>
              </li>
            </ul>
          </div>
        </td>
      <% end %>
    </tbody>
  </table>
</div>

<script type="text/javascript">
    $(document).ready(function($) {
      var cantidad = $("table > tbody").find("> tr:first > td").length - 1;
      var pepe = $('#tabla-pepe').dataTable({
        "sPaginationType": "bootstrap",
        "aoColumnDefs": [
          { "bSearchable": false, "aTargets": [ cantidad ] }
        ],
        "oLanguage": {
              "sUrl": "language.es.json",
          },
        "aaSorting": [[ 0, "desc" ]],
      });
    });
</script>